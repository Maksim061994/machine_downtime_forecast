# АПИ системы предиктивной аналитики по прогнозированию выходов из строя оборудования для компании СеверСталь

## 1. Общая информация
### Назначение и краткое описание
- АПИ сервис для получения прогнозов моделей
- Данный сервис связан с БД Clickhouse  

### Технология 
- Язык разработки: python3.9
- Фреймворк: fastapi

## 2. Информация по запуску и настройке
### Конфигурационные файлы и настройки
- .env - разработка
- .env.*** - можно создавать любой конфиг
- Редактирование файлов нужно производить до сборки
- gunicorn.conf.py - конфигурация Gunicorn, интерфейсы, кол-во воркеров

### Используемые порты
- 3020

### Переменные окружения
- ENVIRONMENT - должен быть равно тому, что указано в названии файла .env.*** вместо звездочек.  
- Если ENVIRONMENT ничего не указано, то по умолчанию берем .env

### Команды для запуска приложения
- На разработке - `python3 app/main.py --reload --log-config=logconf.ini`
- На проде - `gunicorn app.main:app -k uvicorn.workers.UvicornWorker --log-config=logconf.ini`
- ВНИМАНИЕ: перед стартом нужно установить зависимости: `pip install -r requirements.txt`
- Для запуска в контейнере на проме файл: `docker-compose.yml`

## 3. Доп информация

для раскатывания на серверах ВНИИЖТ:
 - `dev` - выкатывается на msk3tis5.vniizht.lan:3020
 - `master` - выкатывается на tis5000.vniizht.lan:3020 (если модели будут тяжелые)
 
### Назначение веток
- для разработки: своя ветка или ветка под задачу
- для раскатывания на серверах: `master`

### Разные замечания
- контейнер обязательно должен иметь доступ к GPU при раскатывании в `master`

### ФИО + почта отвественного за репозиторий
- Кулагин Максим (kulagin.maxim@vniizht.ru)


## 4. Описание кодов ошибок


